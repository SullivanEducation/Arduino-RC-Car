## 5차시 강의 설계 컨셉
* 차시 명 : 바퀴를 굴러보자
* 차시 담당자 : 박상민
* 차시 강의자 : 박상민, 김현우
* 차시 목표 : 모터를 모터 드라이버로 제어하고, PWM 신호로 가감속을 해본다

## 강의 내용
* RC카의 기본구조를 갖고있는 모형을 배부, 이후 진행할 차시에서 모듈 업그레이드 식으로 활용
* 모터(Motor)의 개념과 구동
* 프레임에 모터와 아두이노 부착하기
* 모터 드라이버의 개념과 필요성
* 모터 드라이버를 이용한 전진과 후진
* PWM에 대한 간단한 설명
* PWM을 이용한 모터의 속도 제어
* 자동차 주행시키기


## 5차시 강의 세부 설계 내용
### 모터의 개념과 구동(10분)
* RC카에서 모터가 담당하는 일(2분)
    * 바퀴를 회전시키며 RC카의 차체 이동을 담당!! 
    * 시연 영상을 보여주며 설명
* 모터의 연결 방법 설명 및 구동(8분)
    * 모터의 연결 방법
        * 모터는 극성이 없다!!
        * 양극(5V)과 음극(GND)을 바꿔 끼어도 무리없이 동작!
        * 양극과 음극을 바꿔 연결하면 회전 방향이 바뀐다!!
        * 모터의 이미지을 참고하여 설명
    * 구동시켜보기
        * 아두이노의 5V, GND 핀에 모터를 연결하여 구동시켜보기
        * 핀을 반대로 연결하여 반대 방향으로 회전하는 것 확인


### 모터와 아두이노를 프레임에 부착하기(15분)
* 미리 3D 프린팅으로 제작한 프레임을 헬렌들에게 나눠주어 이제부터 사용할 부품들을 프레임 위에 실장하는 형식으로 진행

* 프레임에 아두이노와 모터 부착하기
    * 글루건 이용

### 모터 드라이버의 개념과 필요성(10분)
* 모터 드라이버의 개념(2분)
    * 모터 드라이버는 모터의 속도, 정방향, 역방향 회전 등을 아두이노의 프로그래밍을 통해서 제어하게 된다. 
* 모터 드라이버의 필요성(3분)
    * 안정적인 모터 제어를 위함
    * 일일이 핀을 바꿔 끼는 불편함 없이 프로그래밍을 통해서 방향 전환 가능
    * 모터의 속도 제어 가능
    * 모터의 회전 방향과 속도가 변하는 영상(GIF) 등을 참고하여 설명 
* 모터 드라이버의 구조(5분)
    * 모터 드라이버 이미지를 이용한 설명
        * 참고 이미지<br>
        <img src=http://cfile25.uf.tistory.com/image/227E245057AD47872D1EEC></img>

### 모터 드라이버를 이용한 전진, 후진(50분)
* 핀 연결(15분)
    * 모터 드라이버의 외부 전원 핀에 건전지를 이용하여 6~9V 전원 투입
    * 모터 드라이버의 GND 핀에 건전지의 음극과 아두이노의 GND 핀 연결
    * Fritizing 이용
    * 모터 A, B 아웃 핀과 모터의 각 핀을 연결
    * 모터 드라이버의 제어 핀(IN1, IN2, IN3, IN4)과 아두이노 IO 핀 연결
        * 아두이노의 7번, 8번 핀과 IN1, IN2 핀 연결(모터 A 구동)
        * 아두이노의 12번, 13번 핀과 IN3, IN4 핀 연결(모터 B 구동)

## 쉬는 시간(10분) 

* 모터 드라이버를 이용하여 전진, 후진해보기(__실습__)(35분)
    * 모터 드라이버의 제어 핀(IN1, IN2, IN3, IN4)의 진리표와 함께 설명(5분)
        * 관련 이미지 <br>
        <img src="https://github.com/SullivanEducation/Arduino-RC-Car/blob/master/RC%EC%B9%B4_%EC%B0%A8%EC%8B%9C%EA%B3%84%ED%9A%8D%EC%84%9C/5_%EB%B0%94%ED%80%B4%EB%A5%BC_%EA%B5%B4%EB%9F%AC%EB%B3%B4%EC%9E%90/L298N_%EC%A0%9C%EC%96%B4_%ED%95%80_%EC%A7%84%EB%A6%AC%ED%91%9C.JPG"></img>
    * 진리표를 이용하여 아두이노의 IO 핀 OUTPUT 값 설정(30분)
        * __Fritizing 이용__
        * 전진 실습
            * 정방향 회전을 위해 7번, 12번 핀에는 HIGH를, 8번, 13번 핀에는 LOW 출력
            * 실제로 구동시켜보고 차체가 직진을 하는 것이 아닌 제자리에서 뱅글뱅글 도는 모습 확인하기
                * 모터가 서로 반대 방향으로 부착되어 있어서 제자리에서 도는 것이 당연합니다.
            * 우리가 원하던 모습이 아니므로 직진을 하기 위해 헬렌 스스로 코드를 수정할 기회 지급
                * 하나의 모터를 정방향이 아닌 역방향으로 회전시키도록 유도하기
        * 후진 실습
            * 설리번들이 직접 알려주는 것이 아닌 헬렌들에게 직진에 이어 후진을 할 수 있는 알고리즘을 짜볼 기회 지급
            * 헬렌들에게 앞에 진리표를 참고하여 직접 후진하는 코드를 작성하라고 해 봄
            * 설리번들은 조금 어려워하는 헬렌들을 옆에서 도와주며 케어하기

### PWM에 대한 간단한 설명(5분)
* 일상생활의 예시(3분)
    * LED의 밝기가 어두워지고 밝아지는 현상
    * 모터의 속도가 빨라졌다 느려졌다 하는 현상
    * 위 두 예시들을 영상(GIF)들로 준비하여 보여주며 이러한 밝기나 속도에 사용되는 것이 PWM이라고 한다는 것만 간단하게 설명
* RC카에 있어서 속도 제어를 위해 PWM이 필요하고 사용할 것이라는 것 명시(2분)

### PWM을 이용한 모터의 속도 제어(20분)
* 아두이노에서 PWM을 사용하는 방법(5분)
    * analogWrite() 함수를 이용하여 모터의 속도를 제어할 수 있다고 설명
    * analogWrite() 함수의 인자로는 0~255까지 가능하다고 설명
        * analogWrite(pin 넘버, 설정 값(0~255))
        * 슬라이드에 analogWrite()의 인자들을 띄워놓고 설명하기

* 실제 속도 제어하기(15분)
    * __Fritizing 이용__
    * 이 파트는 헬렌들이 스스로 하는 것이 아닌 중요한 부분이므로 설리번이 직접 자세히 알려주면서 같이 실습해도록 하기(설리번과 같이 따라하기)
    * 모터드라이버의 모터A PWM 제어 핀과 모터B PWM 제어 핀에 아두이노의 10번, 11번 핀(PWM 출력 가능) 연결(3분)
    * 모터 A와 B에 100%의 속도를 내보기(5분)

        기존 코드에 타이핑 및 업로드
         ```
         analogWrite(10, 255);
         analogWrite(11, 255);
         ```
         
    * 모터 A와 B에 50% 속도 내보기(3분)

        기존 코드에 타이핑 및 업로드
        ```
        analogWrite(10, 127);
        analogWrite(11, 127);
        ```

    * 모터 A와 B에 0% 속도 내보기(3분)

        기존 코드에 타이핑 및 업로드
        ```
        analogWrite(10, 0);
        analogWrite(11, 0);
        ```

## 쉬는 시간(10분)

### 자동차 주행시키기(50분)
* 헬렌들이 자신만의 자동차 구동 코드를 작성하여 자신만의 자동차 구동 프로그램 만들도록 하기
* 먼저 과제를 주는 방식으로 헬렌들이 어떤 방식으로 자신만의 프로그램을 만들지 고민해도록 유도
    * 5초 동안 100%의 속도로 전진하다가 5초 동안은 50%의 속도로 전진하는 프로그램 만들어보기
        * 과제를 들은 헬렌들은 직접 과제를 수행하면서 어려운 점이 있을 때마다 설리번에게 질문하기
* 과제를 끝낸 헬렌들은 자신만의 프로그램(RC카 컨트롤 프로그램)을 구현할 시간 부여
    * ex) 5초 동안 50%의 속도로 전진하다가 3초 동안 100%의 속도로 후진하는 프로그램 등등
    * 아이디어를 코드로 옮기기 어려울 경우나 원하는 대로 동작하지 않는 경우 설리번의 도움을 받아 진행
    * 자신만의 프로그램 구현을 완료한 헬렌은 손을 들어 설리번에게 검사를 받고 초콜릿 받기



        
